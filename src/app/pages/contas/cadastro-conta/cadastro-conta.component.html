<div class="container">
  <br />
  <div class="row">
    <div class="col-12 mb-2">
      <button mat-raised-button color="primary" [routerLink]="['', 'contas']">
        <mat-icon fontIcon="keyboard_backspace"></mat-icon> Voltar
      </button>
    </div>
    <div class="col-12 mb-2">
      <h1>{{ editar ? "Editar Conta" : "Novo Conta" }}</h1>
    </div>
    <div class="col-12">
      <form
        [formGroup]="formGroup"
        class="example-form mt-4"
        (ngSubmit)="cadastrar()"
      >
        <div class="row g-3">
          <div class="col-8">
            <mat-form-field class="full-width">
              <mat-label>Número</mat-label>
              <input matInput formControlName="numero" />
              <mat-error
                class="text-danger mb-2"
                *ngIf="
                  formGroup.get('numero')?.errors &&
                  formGroup.get('numero')?.hasError('required')
                "
                >Campo obrigatório</mat-error
              >
            </mat-form-field>
          </div>
          <div class="col-4">
            <mat-form-field class="full-width">
              <mat-label>Agência</mat-label>
              <input matInput formControlName="agencia" />
              <mat-error
                class="text-danger mb-2"
                *ngIf="
                  formGroup.get('agencia')?.errors &&
                  formGroup.get('agencia')?.hasError('required')
                "
                >Campo obrigatório</mat-error
              >
            </mat-form-field>
          </div>
          <div class="col-6">
            <mat-form-field class="full-width">
              <mat-label>Saldo</mat-label>
              <input matInput formControlName="saldo" />
              <mat-error
                class="text-danger mb-2"
                *ngIf="
                  formGroup.get('saldo')?.errors &&
                  formGroup.get('saldo')?.hasError('required')
                "
                >Campo obrigatório</mat-error
              >
            </mat-form-field>
          </div>
          <div class="col-6">
            <mat-form-field class="full-width">
              <mat-label>Cliente</mat-label>
              <mat-select  formControlName="cliente">
                <mat-option
                  *ngFor="let cliente of clientesList"
                  [value]="cliente.id"
                >
                  {{ cliente.cpf }} - {{ cliente.nome }}
                </mat-option>
              </mat-select>
              <mat-error
                class="text-danger mb-2"
                *ngIf="
                  formGroup.get('cliente')?.errors &&
                  formGroup.get('cliente')?.hasError('required')
                "
                >Campo obrigatório</mat-error
              >
            </mat-form-field>
          </div>

          <div class="col-2">
            <button
              [disabled]="!formGroup.valid"
              type="submit"
              mat-raised-button
              color="primary"
              class="full-width"
            >
              {{ editar ? "Atualizar" : "Cadastrar" }}
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
